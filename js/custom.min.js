var project="marconte",projectURL="marconte.local",productURL="./",text_domain="marconte",translationFile="marconte.pot",translationDestination="./languages",packageName="marconte",bugReport="https://AhmadAwais.com/contact/",lastTranslator="ThatMuch <contact@thatmuch.fr>",team="ThatMuch <contact@thatmuch.fr>",styleSRC="./sass/style.scss",styleDestination="./",jsVendorSRC="./js/vendor/*.js",jsVendorDestination="./js/",jsVendorFile="vendors",jsCustomSRC="./*.js",jsCustomDestination="./js/",jsCustomFile="custom",imagesSRC="./img/**/*.{png,jpg,gif,svg}",imagesDestination="./img/opt",styleWatchFiles="./sass/**/*.scss",vendorJSWatchFiles="./js/vendor/*.js",customJSWatchFiles="./js/*.js",projectPHPWatchFiles="./**/*.php";const AUTOPREFIXER_BROWSERS=["last 2 version","> 1%","ie >= 9","ie_mob >= 10","ff >= 30","chrome >= 34","safari >= 7","opera >= 23","ios >= 7","android >= 4","bb >= 10"];var gulp=require("gulp"),runSequence=require("run-sequence"),del=require("del"),zip=require("gulp-zip"),sass=require("gulp-sass"),minifycss=require("gulp-uglifycss"),autoprefixer=require("gulp-autoprefixer"),mmq=require("gulp-merge-media-queries"),concat=require("gulp-concat"),uglify=require("gulp-uglify"),imagemin=require("gulp-imagemin"),rename=require("gulp-rename"),lineec=require("gulp-line-ending-corrector"),filter=require("gulp-filter"),sourcemaps=require("gulp-sourcemaps"),notify=require("gulp-notify"),browserSync=require("browser-sync").create(),reload=browserSync.reload,wpPot=require("gulp-wp-pot"),sort=require("gulp-sort"),build_files=["**","!node_modules","!node_modules/**","!bower_components","!bower_components/**","!dist","!dist/**","!sass","!sass/**","!.git","!.git/**","!package.json","!.gitignore","!gulpfile.js","!.editorconfig","!.jshintrc"];gulp.task("browser-sync",function(){browserSync.init({proxy:projectURL,open:!0,injectChanges:!0})}),gulp.task("styles",function(){gulp.src(styleSRC).pipe(sourcemaps.init()).pipe(sass({errLogToConsole:!0,outputStyle:"compact",precision:10})).on("error",console.error.bind(console)).pipe(sourcemaps.write({includeContent:!1})).pipe(sourcemaps.init({loadMaps:!0})).pipe(autoprefixer(AUTOPREFIXER_BROWSERS)).pipe(sourcemaps.write("./")).pipe(lineec()).pipe(gulp.dest(styleDestination)).pipe(filter("**/*.css")).pipe(mmq({log:!0})).pipe(browserSync.stream()).pipe(rename({suffix:".min"})).pipe(minifycss({maxLineLen:10})).pipe(lineec()).pipe(gulp.dest(styleDestination)).pipe(filter("**/*.css")).pipe(browserSync.stream()).pipe(notify({message:'TASK: "styles" Completed! ðŸ’¯',onLast:!0}))}),gulp.task("vendorsJs",function(){gulp.src(jsVendorSRC).pipe(concat(jsVendorFile+".js")).pipe(lineec()).pipe(gulp.dest(jsVendorDestination)).pipe(rename({basename:jsVendorFile,suffix:".min"})).pipe(uglify()).pipe(lineec()).pipe(gulp.dest(jsVendorDestination)).pipe(notify({message:'TASK: "vendorsJs" Completed! ðŸ’¯',onLast:!0}))}),gulp.task("customJS",function(){gulp.src(jsCustomSRC).pipe(concat(jsCustomFile+".js")).pipe(lineec()).pipe(gulp.dest(jsCustomDestination)).pipe(rename({basename:jsCustomFile,suffix:".min"})).pipe(uglify()).pipe(lineec()).pipe(gulp.dest(jsCustomDestination)).pipe(notify({message:'TASK: "customJs" Completed! ðŸ’¯',onLast:!0}))}),gulp.task("images",function(){gulp.src(imagesSRC).pipe(imagemin({progressive:!0,optimizationLevel:3,interlaced:!0,svgoPlugins:[{removeViewBox:!1}]})).pipe(gulp.dest(imagesDestination)).pipe(notify({message:'TASK: "images" Completed! ðŸ’¯',onLast:!0}))}),gulp.task("translate",function(){return gulp.src(projectPHPWatchFiles).pipe(sort()).pipe(wpPot({domain:text_domain,"package":packageName,bugReport:bugReport,lastTranslator:lastTranslator,team:team})).pipe(gulp.dest(translationDestination+"/"+translationFile)).pipe(notify({message:'TASK: "translate" Completed! ðŸ’¯',onLast:!0}))}),gulp.task("build-clean",function(){del(["dist/**/*"])}),gulp.task("build-copy",function(){return gulp.src(build_files).pipe(gulp.dest("dist/marconte"))}),gulp.task("build-zip",function(){return gulp.src("dist/**/*").pipe(zip("marconte.zip")).pipe(gulp.dest("dist"))}),gulp.task("build-delete",function(){del(["dist/**/*","!dist/marconte.zip"])}),gulp.task("build",function(e){runSequence("build-clean","build-copy","build-zip","build-delete")}),gulp.task("default",["styles","vendorsJs","customJS","images","browser-sync"],function(){gulp.watch(projectPHPWatchFiles,reload),gulp.watch(styleWatchFiles,["styles"]),gulp.watch(vendorJSWatchFiles,["vendorsJs",reload]),gulp.watch(customJSWatchFiles,["customJS",reload])});